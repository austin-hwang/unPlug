#unPlug Design

### Overview:
We created unPlug because we snooze our alarms many times each morning before actually waking up, inevitably getting late for events or classes and having to rush. There’s a demonstrated need for an alarm clock that does more to motivate you to get out of bed than just ringing loudly, and that’s the need that unPlug fills. 

### Snooze:
We started with a very basic alarm clock app provided by _@wkashdan on GitHub_, and changed most of the initial code. It gave us a base for a clock and alarm functionality for alarms that showed an alert for 5 seconds whenever it was meant to ring. Building off that base, we revamped it so unPlug would actually play a sound while the alarm rang, as well as would have snooze capabilities, the ability to choose non-profits and and an amount to donate to a non-profit when “Snooze” is clicked. At first, creating snooze functionality was very difficult because we had to learn how to use Promises and create asynchronous functions in JavaScript, but after spending almost 6 hours on that and successfully getting that to work, we found a JavaScript library called **SweetAlert** that allowed us to do so more easily and aesthetically. We then used SweetAlert to show customized alert notifications and demonstrate to users how to use our app. 

### Payments:
On snooze, payments are transmitted using **Stripe API** from the user’s bank account (in this version, a test account provided by Stripe) to the charity they specified. They are able to choose how much money they want to send from $1 to $100 in increments of 10 cents, whenever they press “Snooze”. These transactions are logged within the page when the user clicks the “Transactions” button so they can see how much money they’ve lost so far and hopefully be motivated to get out of bed instead of snoozing. Also, these transactions are logged by the Stripe API within our management portal showing that they have successfully sent “test money” with a description that includes the name of the charity. The reason we used a test amount instead of an actual credit card was mainly to avoid losing hundreds of dollars as we tested and demoed our project, and also to make the process of demoing less time-intensive. 

### Picture Recognition:
In addition, creating an alarm requires the user to upload an image that’s meant to be far away from their bed and turning the alarm off (without snoozing) requires taking a picture of the same object. We used **Dropzone.js** in order to upload these images because of the ability to integrate it with the **Imgur API** that we used. We had to use the Imgur API to convert local images to links because that’s the only way to gather information about the image using **Microsoft Azure Computer Vision API**. Using Microsoft’s API, we were able to retrieve JSON output of information associated with both the images that the user uploads. Then, we accessed the specific description tags of this data and compared the two using a unique algorithm to check whether the two images were “similar enough” to be counted as the same and turn the alarm off. If the images are successfully reconciled, the alarm turns off without the user spending any money. If the images don’t match, the user has the opportunity to re-upload an image as many times as they desire until it matches, or they can choose to press snooze. During this process, we used the **Alertify.js** JavaScript library to create notifications that the image was processing since it takes a few seconds and we wanted users to know that it was working during that time. We created this functionality in case the user takes a bad photo the first time or tries to cheat the system without getting up but then decides to snooze instead.

### File Structure:
We were initially running the frontend and backend on separate ports, which wouldn’t allow us to host the website on Heroku. After a lot of research, we restructured our file system to allow it to run on one port. We imported many **Node** modules to support the APIs we used and provide improved functionality. In terms of styling, we used **Jade** to generate basic HTML elements on application start.

### Future Possibilities:
In the future, we hope to create user accounts so users can save their alarms and transaction data even when the page is refreshed. In addition, we will add the ability to input credit card information on the home page. Perhaps the best way to do this would be to create a page structure with multiple tabs, such as a home screen with the clock and alarm functionality as well as one tab for settings like “Initial photo”, “Nonprofit to donate to”, “Amount to donate each time” and “Credit Card Info”. In addition, we would like to find a way to send money directly to charities rather than the current method Stripe API to transact money to the unPlug admins with information about the final destination.
